From 69d26f09c2ea6755e316fe6fe5a5930b404af56a Mon Sep 17 00:00:00 2001
From: gq213 <gaoqiang1211@gmail.com>
Date: Sun, 23 Sep 2018 13:12:13 +0800
Subject: [PATCH 7/7] add android configs.

---
 README.md                               |  6 +++---
 android/configs/android-base.cfg        | 12 ++++--------
 android/configs/android-recommended.cfg |  6 ------
 arch/arm/configs/tq210_defconfig        |  8 +-------
 4 files changed, 8 insertions(+), 24 deletions(-)

diff --git a/README.md b/README.md
index aad6d0e..8ff1a85 100644
--- a/README.md
+++ b/README.md
@@ -1,11 +1,11 @@
 # linux-4.4
 for tq210
 
-make tq210_defconfig
+scripts/kconfig/merge_config.sh arch/arm/configs/tq210_defconfig android/configs/android-base.cfg android/configs/android-recommended.cfg
 make uImage
 make dtbs/s5pv210-tq210.dtb
 
-tftpboot 20008000 uImage; tftpboot 20508000 s5pv210-tq210.dtb; bootm 20008000 - 20508000
+tftpboot 20008000 uImage; tftpboot 20808000 s5pv210-tq210.dtb; bootm 20008000 - 20808000
 
-fdt addr 20508000
+fdt addr 20808000
 fdt print
diff --git a/android/configs/android-base.cfg b/android/configs/android-base.cfg
index f10371a..5794bf2 100644
--- a/android/configs/android-base.cfg
+++ b/android/configs/android-base.cfg
@@ -2,23 +2,21 @@
 # CONFIG_DEVKMEM is not set
 # CONFIG_DEVMEM is not set
 # CONFIG_INET_LRO is not set
-# CONFIG_MODULES is not set
 # CONFIG_OABI_COMPAT is not set
 # CONFIG_SYSVIPC is not set
 CONFIG_ANDROID=y
 CONFIG_ANDROID_BINDER_IPC=y
 CONFIG_ANDROID_LOW_MEMORY_KILLER=y
-CONFIG_ARMV8_DEPRECATED=y
 CONFIG_ASHMEM=y
 CONFIG_AUDIT=y
 CONFIG_BLK_DEV_DM=y
 CONFIG_BLK_DEV_INITRD=y
+CONFIG_INITRAMFS_SOURCE="/mnt/qiang/cross/aosp_out/aosp_source/target/product/myphone/initramfs.cpio.gz"
 CONFIG_CGROUPS=y
 CONFIG_CGROUP_CPUACCT=y
 CONFIG_CGROUP_DEBUG=y
 CONFIG_CGROUP_FREEZER=y
 CONFIG_CGROUP_SCHED=y
-CONFIG_CP15_BARRIER_EMULATION=y
 CONFIG_DM_CRYPT=y
 CONFIG_DM_VERITY=y
 CONFIG_DM_VERITY_FEC=y
@@ -42,7 +40,6 @@ CONFIG_IPV6=y
 CONFIG_IPV6_MIP6=y
 CONFIG_IPV6_MULTIPLE_TABLES=y
 CONFIG_IPV6_OPTIMISTIC_DAD=y
-CONFIG_IPV6_PRIVACY=y
 CONFIG_IPV6_ROUTER_PREF=y
 CONFIG_IPV6_ROUTE_INFO=y
 CONFIG_IP_ADVANCED_ROUTER=y
@@ -64,10 +61,12 @@ CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
+CONFIG_MODULES=y
+CONFIG_MODULE_UNLOAD=y
+CONFIG_MODVERSIONS=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
-CONFIG_NETFILTER_TPROXY=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
@@ -144,7 +143,6 @@ CONFIG_QUOTA=y
 CONFIG_QUOTA_NETLINK_INTERFACE=y
 CONFIG_QUOTA_TREE=y
 CONFIG_QUOTACTL=y
-CONFIG_RANDOMIZE_BASE=y
 CONFIG_RTC_CLASS=y
 CONFIG_RT_GROUP_SCHED=y
 CONFIG_SECCOMP=y
@@ -152,9 +150,7 @@ CONFIG_SECURITY=y
 CONFIG_SECURITY_NETWORK=y
 CONFIG_SECURITY_PERF_EVENTS_RESTRICT=y
 CONFIG_SECURITY_SELINUX=y
-CONFIG_SETEND_EMULATION=y
 CONFIG_STAGING=y
-CONFIG_SWP_EMULATION=y
 CONFIG_SYNC=y
 CONFIG_TUN=y
 CONFIG_UID_CPUTIME=y
diff --git a/android/configs/android-recommended.cfg b/android/configs/android-recommended.cfg
index 2861030..9d7ab2a 100644
--- a/android/configs/android-recommended.cfg
+++ b/android/configs/android-recommended.cfg
@@ -2,18 +2,14 @@
 # CONFIG_AIO is not set
 # CONFIG_CORE_DUMP_DEFAULT_ELF_HEADERS is not set
 # CONFIG_INPUT_MOUSE is not set
-# CONFIG_LEGACY_PTYS is not set
 # CONFIG_NF_CONNTRACK_SIP is not set
 # CONFIG_PM_WAKELOCKS_GC is not set
-# CONFIG_VT is not set
 CONFIG_ANDROID_TIMED_GPIO=y
 CONFIG_ARM_KERNMEM_PERMS=y
-CONFIG_ARM64_SW_TTBR0_PAN=y
 CONFIG_BACKLIGHT_LCD_SUPPORT=y
 CONFIG_BLK_DEV_LOOP=y
 CONFIG_BLK_DEV_RAM=y
 CONFIG_BLK_DEV_RAM_SIZE=8192
-CONFIG_CC_STACKPROTECTOR_STRONG=y
 CONFIG_COMPACTION=y
 CONFIG_CPU_SW_DOMAIN_PAN=y
 CONFIG_DEBUG_RODATA=y
@@ -98,7 +94,6 @@ CONFIG_PANIC_TIMEOUT=5
 CONFIG_PANTHERLORD_FF=y
 CONFIG_PERF_EVENTS=y
 CONFIG_PM_DEBUG=y
-CONFIG_PM_RUNTIME=y
 CONFIG_PM_WAKELOCKS_LIMIT=0
 CONFIG_POWER_SUPPLY=y
 CONFIG_PSTORE=y
@@ -108,7 +103,6 @@ CONFIG_SCHEDSTATS=y
 CONFIG_SMARTJOYPLUS_FF=y
 CONFIG_SND=y
 CONFIG_SOUND=y
-CONFIG_SUSPEND_TIME=y
 CONFIG_TABLET_USB_ACECAD=y
 CONFIG_TABLET_USB_AIPTEK=y
 CONFIG_TABLET_USB_GTCO=y
diff --git a/arch/arm/configs/tq210_defconfig b/arch/arm/configs/tq210_defconfig
index 80d8eb2..fab8fd0 100644
--- a/arch/arm/configs/tq210_defconfig
+++ b/arch/arm/configs/tq210_defconfig
@@ -21,7 +21,6 @@ CONFIG_UNIX=y
 CONFIG_INET=y
 CONFIG_IP_PNP=y
 CONFIG_IP_PNP_DHCP=y
-# CONFIG_IPV6 is not set
 
 CONFIG_UEVENT_HELPER_PATH="/sbin/hotplug"
 
@@ -41,7 +40,6 @@ CONFIG_DM9000=y
 # CONFIG_NET_VENDOR_MARVELL is not set
 # CONFIG_NET_VENDOR_MICREL is not set
 # CONFIG_NET_VENDOR_NATSEMI is not set
-# CONFIG_NET_VENDOR_NETRONOME is not set
 # CONFIG_NET_VENDOR_QUALCOMM is not set
 # CONFIG_NET_VENDOR_RENESAS is not set
 # CONFIG_NET_VENDOR_ROCKER is not set
@@ -53,11 +51,9 @@ CONFIG_DM9000=y
 # CONFIG_NET_VENDOR_VIA is not set
 # CONFIG_NET_VENDOR_WIZNET is not set
 
-# CONFIG_INPUT_MOUSEDEV is not set
-# CONFIG_INPUT_KEYBOARD is not set
 # CONFIG_INPUT_MOUSE is not set
 
-CONFIG_LEGACY_PTY_COUNT=32
+CONFIG_LEGACY_PTY_COUNT=4
 CONFIG_SERIAL_8250=y
 CONFIG_SERIAL_SAMSUNG=y
 CONFIG_SERIAL_SAMSUNG_CONSOLE=y
@@ -78,8 +74,6 @@ CONFIG_BACKLIGHT_PWM=y
 CONFIG_FRAMEBUFFER_CONSOLE=y
 CONFIG_LOGO=y
 
-# CONFIG_HID is not set
-
 CONFIG_USB_SUPPORT=y
 CONFIG_USB=y
 CONFIG_USB_ANNOUNCE_NEW_DEVICES=y
-- 
2.7.4

